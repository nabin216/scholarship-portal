(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44247,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016);function r(){let[e,r]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0),[c,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{l(!0),n(null);try{let e=localStorage.getItem("authToken");if(!e)throw Error("Authentication token not found");let t=await fetch("https://api.scholarscanner.com/api/user/applications/",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch applications");let s=await t.json();r(s.results||s||[])}catch(e){console.error("Error fetching applications:",e),n(e instanceof Error?e.message:"An error occurred while fetching applications"),r([])}finally{l(!1)}})()},[]);let h=async(e,t)=>{d(e);try{let s=localStorage.getItem("authToken");if(!s)throw Error("Authentication token not found");if(!(await fetch(`https://api.scholarscanner.com/api/user/applications/${e}/`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok)throw Error("Failed to update application status");r(s=>s.map(s=>s.id===e?{...s,status:t}:s))}catch(e){console.error("Error updating application status:",e),n(e instanceof Error?e.message:"Failed to update status")}finally{d(null)}};return i?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsx)("div",{className:"container mx-auto px-4",children:(0,t.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:["        ",(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center space-x-4 mb-2",children:(0,t.jsxs)(a.default,{href:"/profile",className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Profile"]})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"My Applications"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Track the status of your scholarship applications"}),e.length>0&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.length," application",1!==e.length?"s":""," submitted"]})]})})}),c&&(0,t.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-400 p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:c})}),(0,t.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scholarship"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applied Date"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),"                ",(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.scholarship_title})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.scholarship_provider})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"text-sm text-gray-900",children:["$",e.scholarship_amount?.toLocaleString()||"N/A"]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.date_applied).toLocaleDateString()})}),"                      ",(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsxs)("select",{value:e.status,onChange:t=>h(e.id,t.target.value),disabled:o===e.id,className:"text-xs px-2 py-1 rounded-full border-0 focus:ring-2 focus:ring-blue-500 disabled:opacity-50",style:{backgroundColor:"pending"===e.status?"#fef3c7":"submitted"===e.status?"#dbeafe":"under_review"===e.status?"#e9d5ff":"approved"===e.status?"#dcfce7":"rejected"===e.status?"#fee2e2":"#f3f4f6",color:"pending"===e.status?"#92400e":"submitted"===e.status?"#1e40af":"under_review"===e.status?"#7c3aed":"approved"===e.status?"#166534":"rejected"===e.status?"#dc2626":"#374151"},children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"submitted",children:"Submitted"}),(0,t.jsx)("option",{value:"under_review",children:"Under Review"}),(0,t.jsx)("option",{value:"approved",children:"Approved"}),(0,t.jsx)("option",{value:"rejected",children:"Rejected"})]}),o===e.id&&(0,t.jsx)("div",{className:"ml-2 inline-block",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"})})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,t.jsx)(a.default,{href:`/scholarships/scholarshipdetails?id=${e.scholarship}`,className:"text-blue-600 hover:text-blue-900",children:"View Scholarship"})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-16 px-4",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No applications"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't applied to any scholarships yet."}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(a.default,{href:"/scholarships/search",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Browse Scholarships"]})})]})})]})})}e.s(["default",()=>r])}]);