"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/Authentication/register/page",{

/***/ "(app-pages-browser)/./src/app/Authentication/context/AuthContext.tsx":
/*!********************************************************!*\
  !*** ./src/app/Authentication/context/AuthContext.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: function() { return /* binding */ AuthProvider; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction AuthProvider(param) {\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if the user is already authenticated on mount\n        const checkAuth = async ()=>{\n            const token = localStorage.getItem(\"authToken\");\n            if (token) {\n                try {\n                    // First, verify the token is valid\n                    const verifyResponse = await fetch(\"http://localhost:8000/api/user/auth/token/verify/\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            token\n                        })\n                    });\n                    if (!verifyResponse.ok) {\n                        console.log(\"Token invalid, status:\", verifyResponse.status);\n                        localStorage.removeItem(\"authToken\");\n                        setUser(null);\n                        setIsAuthenticated(false);\n                        setLoading(false);\n                        return;\n                    }\n                    // Token is valid, get user data\n                    const response = await fetch(\"http://localhost:8000/api/user/auth/me/\", {\n                        headers: {\n                            \"Authorization\": \"Bearer \".concat(token),\n                            \"Content-Type\": \"application/json\"\n                        }\n                    });\n                    if (response.ok) {\n                        const userData = await response.json();\n                        setUser({\n                            id: userData.id,\n                            name: userData.full_name || userData.name,\n                            email: userData.email\n                        });\n                        setIsAuthenticated(true);\n                        console.log(\"User authenticated successfully on page refresh\");\n                    } else {\n                        console.log(\"Failed to get user data, status:\", response.status);\n                        // Token might be valid but user data fetch failed\n                        localStorage.removeItem(\"authToken\");\n                        setUser(null);\n                        setIsAuthenticated(false);\n                    }\n                } catch (error) {\n                    console.error(\"Authentication check failed:\", error);\n                    localStorage.removeItem(\"authToken\");\n                    setUser(null);\n                    setIsAuthenticated(false);\n                }\n            }\n            setLoading(false);\n        };\n        checkAuth();\n    }, []);\n    const loginWithGoogle = async ()=>{\n        // Open Google OAuth popup\n        const width = 500;\n        const height = 600;\n        const left = window.screenX + (window.outerWidth - width) / 2;\n        const top = window.screenY + (window.outerHeight - height) / 2;\n        // For development, use our mock Google login page instead of real OAuth\n        // In production, you'd use the real Google OAuth endpoint\n        const popup = window.open(\"/Authentication/mock-google\", \"Google Login\", \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top));\n        // Create a message listener to handle the callback\n        window.addEventListener(\"message\", async (event)=>{\n            // Only accept messages from our own domain\n            if (event.origin !== window.location.origin) return;\n            if (event.data.type === \"GOOGLE_AUTH_SUCCESS\") {\n                if (popup) popup.close();\n                try {\n                    await handleGoogleCallback(event.data.token, event.data.user);\n                    router.push(\"/profile\");\n                } catch (error) {\n                    console.error(\"Google auth callback error:\", error);\n                }\n            }\n        });\n    };\n    const handleGoogleCallback = async (token, userData)=>{\n        try {\n            const response = await fetch(\"http://localhost:8000/api/user/auth/google/token/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    id_token: token,\n                    email: userData.email,\n                    full_name: userData.name\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || \"Google authentication failed\");\n            }\n            const data = await response.json();\n            localStorage.setItem(\"authToken\", data.token);\n            setUser({\n                id: data.user.id,\n                name: data.user.full_name,\n                email: data.user.email\n            });\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error(\"Google auth error:\", error);\n            throw error;\n        }\n    };\n    const login = async (email, password)=>{\n        setLoading(true);\n        try {\n            var _data_user, _data_user1, _data_user2;\n            // Clear any existing token first\n            localStorage.removeItem(\"authToken\");\n            const response = await fetch(\"http://localhost:8000/api/user/auth/login/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email,\n                    password\n                }),\n                credentials: \"include\"\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.detail || \"Login failed\");\n            }\n            const data = await response.json();\n            // Store token\n            localStorage.setItem(\"authToken\", data.token);\n            // Update user state\n            setUser({\n                id: (_data_user = data.user) === null || _data_user === void 0 ? void 0 : _data_user.id,\n                name: (_data_user1 = data.user) === null || _data_user1 === void 0 ? void 0 : _data_user1.name,\n                email: ((_data_user2 = data.user) === null || _data_user2 === void 0 ? void 0 : _data_user2.email) || email\n            });\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            throw error;\n        } finally{\n            setLoading(false); // Make sure loading is always set to false\n        }\n    };\n    const register = async (name, email, password)=>{\n        setLoading(true);\n        try {\n            // Split full name into first and last name\n            const [firstName, ...lastNameParts] = name.trim().split(\" \");\n            const lastName = lastNameParts.join(\" \");\n            const response = await fetch(\"http://localhost:8000/api/user/auth/register/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                credentials: \"include\",\n                body: JSON.stringify({\n                    email,\n                    password,\n                    password2: password,\n                    full_name: name,\n                    first_name: firstName,\n                    last_name: lastName || \"\" // If no last name provided, use empty string\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.json();\n                const errorMessage = errorData.detail || Object.values(errorData).map((err)=>Array.isArray(err) ? err.join(\", \") : err).join(\", \");\n                throw new Error(errorMessage || \"Registration failed\");\n            }\n            const data = await response.json();\n            // Some APIs might return a token immediately after registration\n            if (data.token) {\n                var _data_user, _data_user1, _data_user2;\n                localStorage.setItem(\"authToken\", data.token);\n                setUser({\n                    id: (_data_user = data.user) === null || _data_user === void 0 ? void 0 : _data_user.id,\n                    name: ((_data_user1 = data.user) === null || _data_user1 === void 0 ? void 0 : _data_user1.name) || name,\n                    email: ((_data_user2 = data.user) === null || _data_user2 === void 0 ? void 0 : _data_user2.email) || email\n                });\n                setIsAuthenticated(true);\n            }\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            throw error;\n        } finally{\n            setLoading(false);\n        }\n    };\n    const logout = ()=>{\n        localStorage.removeItem(\"authToken\");\n        setUser(null);\n        setIsAuthenticated(false);\n        // Redirect to login page\n        router.push(\"/Authentication/login\");\n    };\n    const value = {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        loginWithGoogle,\n        handleGoogleCallback,\n        isAuthenticated\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"D:\\\\ScholarshipPortal\\\\scholarship-portal\\\\src\\\\app\\\\Authentication\\\\context\\\\AuthContext.tsx\",\n        lineNumber: 262,\n        columnNumber: 10\n    }, this);\n}\n_s(AuthProvider, \"l0f2cJVvoD9s2nghHVOe+1CbBy0=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AuthProvider;\nconst useAuth = ()=>{\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvQXV0aGVudGljYXRpb24vY29udGV4dC9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFeUY7QUFDN0M7QUFtQjVDLE1BQU1NLDRCQUFjTCxvREFBYUEsQ0FBOEJNO0FBRXhELFNBQVNDLGFBQWEsS0FBcUM7UUFBckMsRUFBRUMsUUFBUSxFQUEyQixHQUFyQzs7SUFDM0IsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdSLCtDQUFRQSxDQUFjO0lBQzlDLE1BQU0sQ0FBQ1MsU0FBU0MsV0FBVyxHQUFHViwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNXLGlCQUFpQkMsbUJBQW1CLEdBQUdaLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU1hLFNBQVNYLDBEQUFTQTtJQUFLRCxnREFBU0EsQ0FBQztRQUNyQyxzREFBc0Q7UUFDdEQsTUFBTWEsWUFBWTtZQUNoQixNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7WUFFbkMsSUFBSUYsT0FBTztnQkFDVCxJQUFJO29CQUNGLG1DQUFtQztvQkFDbkMsTUFBTUcsaUJBQWlCLE1BQU1DLE1BQU0scURBQXFEO3dCQUN0RkMsUUFBUTt3QkFDUkMsU0FBUzs0QkFDUCxnQkFBZ0I7d0JBQ2xCO3dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7NEJBQUVUO3dCQUFNO29CQUMvQjtvQkFFQSxJQUFJLENBQUNHLGVBQWVPLEVBQUUsRUFBRTt3QkFDdEJDLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJULGVBQWVVLE1BQU07d0JBQzNEWixhQUFhYSxVQUFVLENBQUM7d0JBQ3hCckIsUUFBUTt3QkFDUkksbUJBQW1CO3dCQUNuQkYsV0FBVzt3QkFDWDtvQkFDRjtvQkFFQSxnQ0FBZ0M7b0JBQ2hDLE1BQU1vQixXQUFXLE1BQU1YLE1BQU0sMkNBQTJDO3dCQUN0RUUsU0FBUzs0QkFDUCxpQkFBaUIsVUFBZ0IsT0FBTk47NEJBQzNCLGdCQUFnQjt3QkFDbEI7b0JB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LElBQUksY0FBVCtDLGtDQUFBQSxZQUFXcEIsSUFBSSxLQUFJQTtvQkFDekJFLE9BQU9rQixFQUFBQSxjQUFBQSxLQUFLL0MsSUFBSSxjQUFUK0Msa0NBQUFBLFlBQVdsQixLQUFLLEtBQUlBO2dCQUM3QjtnQkFDQXhCLG1CQUFtQjtZQUNyQjtRQUNGLEVBQUUsT0FBT3lCLE9BQU87WUFDZFgsUUFBUVcsS0FBSyxDQUFDLHVCQUF1QkE7WUFDckMsTUFBTUE7UUFDUixTQUFVO1lBQ1IzQixXQUFXO1FBQ2I7SUFDRjtJQUVBLE1BQU0wRSxTQUFTO1FBQ2JwRSxhQUFhYSxVQUFVLENBQUM7UUFDeEJyQixRQUFRO1FBQ1JJLG1CQUFtQjtRQUNuQix5QkFBeUI7UUFDekJDLE9BQU82QyxJQUFJLENBQUM7SUFDZDtJQUVBLE1BQU0yQixRQUFRO1FBQ1o5RTtRQUNBRTtRQUNBdUQ7UUFDQUc7UUFDQWlCO1FBQ0E5QztRQUNBbUI7UUFDQTlDO0lBQ0Y7SUFFQSxxQkFBTyw4REFBQ1IsWUFBWW1GLFFBQVE7UUFBQ0QsT0FBT0E7a0JBQVEvRTs7Ozs7O0FBQzlDO0dBOU9nQkQ7O1FBSUNILHNEQUFTQTs7O0tBSlZHO0FBZ1BULE1BQU1rRixVQUFVOztJQUNyQixNQUFNQyxVQUFVekYsaURBQVVBLENBQUNJO0lBQzNCLElBQUlxRixZQUFZcEYsV0FBVztRQUN6QixNQUFNLElBQUkwRCxNQUFNO0lBQ2xCO0lBQ0EsT0FBTzBCO0FBQ1QsRUFBRTtJQU5XRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvYXBwL0F1dGhlbnRpY2F0aW9uL2NvbnRleHQvQXV0aENvbnRleHQudHN4PzMxN2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5cclxuaW50ZXJmYWNlIFVzZXIge1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIG5hbWU/OiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEF1dGhDb250ZXh0VHlwZSB7XHJcbiAgdXNlcjogVXNlciB8IG51bGw7XHJcbiAgbG9hZGluZzogYm9vbGVhbjtcclxuICBsb2dpbjogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgcmVnaXN0ZXI6IChuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgbG9nb3V0OiAoKSA9PiB2b2lkO1xyXG4gIGxvZ2luV2l0aEdvb2dsZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBoYW5kbGVHb29nbGVDYWxsYmFjazogKHRva2VuOiBzdHJpbmcsIHVzZXJEYXRhOiBhbnkpID0+IFByb21pc2U8dm9pZD47XHJcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXV0aENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XHJcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtpc0F1dGhlbnRpY2F0ZWQsIHNldElzQXV0aGVudGljYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7ICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBhdXRoZW50aWNhdGVkIG9uIG1vdW50XHJcbiAgICBjb25zdCBjaGVja0F1dGggPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIEZpcnN0LCB2ZXJpZnkgdGhlIHRva2VuIGlzIHZhbGlkXHJcbiAgICAgICAgICBjb25zdCB2ZXJpZnlSZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3VzZXIvYXV0aC90b2tlbi92ZXJpZnkvJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdG9rZW4gfSksXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoIXZlcmlmeVJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG9rZW4gaW52YWxpZCwgc3RhdHVzOlwiLCB2ZXJpZnlSZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aFRva2VuJyk7XHJcbiAgICAgICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRva2VuIGlzIHZhbGlkLCBnZXQgdXNlciBkYXRhXHJcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3VzZXIvYXV0aC9tZS8nLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIHNldFVzZXIoe1xyXG4gICAgICAgICAgICAgIGlkOiB1c2VyRGF0YS5pZCxcclxuICAgICAgICAgICAgICBuYW1lOiB1c2VyRGF0YS5mdWxsX25hbWUgfHwgdXNlckRhdGEubmFtZSxcclxuICAgICAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBhdXRoZW50aWNhdGVkIHN1Y2Nlc3NmdWxseSBvbiBwYWdlIHJlZnJlc2hcIik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBnZXQgdXNlciBkYXRhLCBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIC8vIFRva2VuIG1pZ2h0IGJlIHZhbGlkIGJ1dCB1c2VyIGRhdGEgZmV0Y2ggZmFpbGVkXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgICAgICAgc2V0VXNlcihudWxsKTtcclxuICAgICAgICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aGVudGljYXRpb24gY2hlY2sgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoVG9rZW4nKTtcclxuICAgICAgICAgIHNldFVzZXIobnVsbCk7XHJcbiAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNoZWNrQXV0aCgpO1xyXG4gIH0sIFtdKTsgIGNvbnN0IGxvZ2luV2l0aEdvb2dsZSA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIC8vIE9wZW4gR29vZ2xlIE9BdXRoIHBvcHVwXHJcbiAgICBjb25zdCB3aWR0aCA9IDUwMDtcclxuICAgIGNvbnN0IGhlaWdodCA9IDYwMDtcclxuICAgIGNvbnN0IGxlZnQgPSB3aW5kb3cuc2NyZWVuWCArICh3aW5kb3cub3V0ZXJXaWR0aCAtIHdpZHRoKSAvIDI7XHJcbiAgICBjb25zdCB0b3AgPSB3aW5kb3cuc2NyZWVuWSArICh3aW5kb3cub3V0ZXJIZWlnaHQgLSBoZWlnaHQpIC8gMjtcclxuICAgIFxyXG4gICAgLy8gRm9yIGRldmVsb3BtZW50LCB1c2Ugb3VyIG1vY2sgR29vZ2xlIGxvZ2luIHBhZ2UgaW5zdGVhZCBvZiByZWFsIE9BdXRoXHJcbiAgICAvLyBJbiBwcm9kdWN0aW9uLCB5b3UnZCB1c2UgdGhlIHJlYWwgR29vZ2xlIE9BdXRoIGVuZHBvaW50XHJcbiAgICBjb25zdCBwb3B1cCA9IHdpbmRvdy5vcGVuKFxyXG4gICAgICAnL0F1dGhlbnRpY2F0aW9uL21vY2stZ29vZ2xlJyxcclxuICAgICAgJ0dvb2dsZSBMb2dpbicsXHJcbiAgICAgIGB3aWR0aD0ke3dpZHRofSxoZWlnaHQ9JHtoZWlnaHR9LGxlZnQ9JHtsZWZ0fSx0b3A9JHt0b3B9YFxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIGEgbWVzc2FnZSBsaXN0ZW5lciB0byBoYW5kbGUgdGhlIGNhbGxiYWNrXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGFzeW5jIChldmVudCkgPT4ge1xyXG4gICAgICAvLyBPbmx5IGFjY2VwdCBtZXNzYWdlcyBmcm9tIG91ciBvd24gZG9tYWluXHJcbiAgICAgIGlmIChldmVudC5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdHT09HTEVfQVVUSF9TVUNDRVNTJykge1xyXG4gICAgICAgIGlmIChwb3B1cCkgcG9wdXAuY2xvc2UoKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBoYW5kbGVHb29nbGVDYWxsYmFjayhldmVudC5kYXRhLnRva2VuLCBldmVudC5kYXRhLnVzZXIpO1xyXG4gICAgICAgICAgcm91dGVyLnB1c2goJy9wcm9maWxlJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBhdXRoIGNhbGxiYWNrIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgaGFuZGxlR29vZ2xlQ2FsbGJhY2sgPSBhc3luYyAodG9rZW46IHN0cmluZywgdXNlckRhdGE6IGFueSk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgdHJ5IHsgICAgICAvLyBFeGNoYW5nZSB0aGUgR29vZ2xlIGF1dGggdG9rZW4gZm9yIG91ciBhcHAgSldUXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdXNlci9hdXRoL2dvb2dsZS90b2tlbi8nLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgICAgIGlkX3Rva2VuOiB0b2tlbiwgXHJcbiAgICAgICAgICBlbWFpbDogdXNlckRhdGEuZW1haWwsXHJcbiAgICAgICAgICBmdWxsX25hbWU6IHVzZXJEYXRhLm5hbWVcclxuICAgICAgICB9KSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0dvb2dsZSBhdXRoZW50aWNhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoVG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgXHJcbiAgICAgIHNldFVzZXIoe1xyXG4gICAgICAgIGlkOiBkYXRhLnVzZXIuaWQsXHJcbiAgICAgICAgbmFtZTogZGF0YS51c2VyLmZ1bGxfbmFtZSxcclxuICAgICAgICBlbWFpbDogZGF0YS51c2VyLmVtYWlsLFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dvb2dsZSBhdXRoIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfTsgIGNvbnN0IGxvZ2luID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgdG9rZW4gZmlyc3RcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhUb2tlbicpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS91c2VyL2F1dGgvbG9naW4vJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsLCBwYXNzd29yZCB9KSxcclxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5kZXRhaWwgfHwgJ0xvZ2luIGZhaWxlZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBcclxuICAgICAgLy8gU3RvcmUgdG9rZW5cclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGhUb2tlbicsIGRhdGEudG9rZW4pO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHVzZXIgc3RhdGVcclxuICAgICAgc2V0VXNlcih7XHJcbiAgICAgICAgaWQ6IGRhdGEudXNlcj8uaWQsXHJcbiAgICAgICAgbmFtZTogZGF0YS51c2VyPy5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiBkYXRhLnVzZXI/LmVtYWlsIHx8IGVtYWlsLFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgLy8gTWFrZSBzdXJlIGxvYWRpbmcgaXMgYWx3YXlzIHNldCB0byBmYWxzZVxyXG4gICAgfVxyXG4gIH07ICBjb25zdCByZWdpc3RlciA9IGFzeW5jIChuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTcGxpdCBmdWxsIG5hbWUgaW50byBmaXJzdCBhbmQgbGFzdCBuYW1lXHJcbiAgICAgIGNvbnN0IFtmaXJzdE5hbWUsIC4uLmxhc3ROYW1lUGFydHNdID0gbmFtZS50cmltKCkuc3BsaXQoJyAnKTtcclxuICAgICAgY29uc3QgbGFzdE5hbWUgPSBsYXN0TmFtZVBhcnRzLmpvaW4oJyAnKTsgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL3VzZXIvYXV0aC9yZWdpc3Rlci8nLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICBwYXNzd29yZCxcclxuICAgICAgICAgIHBhc3N3b3JkMjogcGFzc3dvcmQsIC8vIFBhc3N3b3JkIGNvbmZpcm1hdGlvbiByZXF1aXJlZCBieSBiYWNrZW5kXHJcbiAgICAgICAgICBmdWxsX25hbWU6IG5hbWUsXHJcbiAgICAgICAgICBmaXJzdF9uYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgICAgICBsYXN0X25hbWU6IGxhc3ROYW1lIHx8ICcnIC8vIElmIG5vIGxhc3QgbmFtZSBwcm92aWRlZCwgdXNlIGVtcHR5IHN0cmluZ1xyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KTsgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5kZXRhaWwgfHwgXHJcbiAgICAgICAgICBPYmplY3QudmFsdWVzKGVycm9yRGF0YSkubWFwKGVyciA9PiBcclxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShlcnIpID8gZXJyLmpvaW4oJywgJykgOiBlcnJcclxuICAgICAgICAgICkuam9pbignLCAnKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlIHx8ICdSZWdpc3RyYXRpb24gZmFpbGVkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTb21lIEFQSXMgbWlnaHQgcmV0dXJuIGEgdG9rZW4gaW1tZWRpYXRlbHkgYWZ0ZXIgcmVnaXN0cmF0aW9uXHJcbiAgICAgIGlmIChkYXRhLnRva2VuKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGhUb2tlbicsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgIHNldFVzZXIoe1xyXG4gICAgICAgICAgaWQ6IGRhdGEudXNlcj8uaWQsXHJcbiAgICAgICAgICBuYW1lOiBkYXRhLnVzZXI/Lm5hbWUgfHwgbmFtZSxcclxuICAgICAgICAgIGVtYWlsOiBkYXRhLnVzZXI/LmVtYWlsIHx8IGVtYWlsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldElzQXV0aGVudGljYXRlZCh0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBsb2dvdXQgPSAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aFRva2VuJyk7XHJcbiAgICBzZXRVc2VyKG51bGwpO1xyXG4gICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcclxuICAgIHJvdXRlci5wdXNoKCcvQXV0aGVudGljYXRpb24vbG9naW4nKTtcclxuICB9O1xyXG5cclxuICBjb25zdCB2YWx1ZSA9IHtcclxuICAgIHVzZXIsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgbG9naW4sXHJcbiAgICByZWdpc3RlcixcclxuICAgIGxvZ291dCxcclxuICAgIGxvZ2luV2l0aEdvb2dsZSxcclxuICAgIGhhbmRsZUdvb2dsZUNhbGxiYWNrLFxyXG4gICAgaXNBdXRoZW50aWNhdGVkLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9BdXRoQ29udGV4dC5Qcm92aWRlcj47XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTtcclxuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcclxuICB9XHJcbiAgcmV0dXJuIGNvbnRleHQ7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSb3V0ZXIiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImlzQXV0aGVudGljYXRlZCIsInNldElzQXV0aGVudGljYXRlZCIsInJvdXRlciIsImNoZWNrQXV0aCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInZlcmlmeVJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJyZW1vdmVJdGVtIiwicmVzcG9uc2UiLCJ1c2VyRGF0YSIsImpzb24iLCJpZCIsIm5hbWUiLCJmdWxsX25hbWUiLCJlbWFpbCIsImVycm9yIiwibG9naW5XaXRoR29vZ2xlIiwid2lkdGgiLCJoZWlnaHQiLCJsZWZ0Iiwid2luZG93Iiwic2NyZWVuWCIsIm91dGVyV2lkdGgiLCJ0b3AiLCJzY3JlZW5ZIiwib3V0ZXJIZWlnaHQiLCJwb3B1cCIsIm9wZW4iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImRhdGEiLCJ0eXBlIiwiY2xvc2UiLCJoYW5kbGVHb29nbGVDYWxsYmFjayIsInB1c2giLCJjcmVkZW50aWFscyIsImlkX3Rva2VuIiwiZXJyb3JEYXRhIiwiRXJyb3IiLCJzZXRJdGVtIiwibG9naW4iLCJwYXNzd29yZCIsImRldGFpbCIsInJlZ2lzdGVyIiwiZmlyc3ROYW1lIiwibGFzdE5hbWVQYXJ0cyIsInRyaW0iLCJzcGxpdCIsImxhc3ROYW1lIiwiam9pbiIsInBhc3N3b3JkMiIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJlcnJvck1lc3NhZ2UiLCJPYmplY3QiLCJ2YWx1ZXMiLCJtYXAiLCJlcnIiLCJBcnJheSIsImlzQXJyYXkiLCJsb2dvdXQiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlQXV0aCIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/Authentication/context/AuthContext.tsx\n"));

/***/ })

});